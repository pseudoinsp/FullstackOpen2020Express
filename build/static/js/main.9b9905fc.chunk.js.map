{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/PersonsService.js","App.js","index.js"],"names":["Filter","filterValue","changeHandler","value","onChange","PersonForm","name","nameChangeHandler","number","numberChangeHandler","submitHandler","onSubmit","type","Persons","persons","nameFilter","deleteButtonHandler","filter","person","toLowerCase","includes","map","key","id","onClick","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNameFilter","notificationMessage","setNotificationMessage","notificationMessageColor","setNotificationColor","notifyUser","setTimeout","useEffect","PersonsService","ps","event","target","preventDefault","newOrUpdatedPerson","p","alreadyAddedPerson","find","window","confirm","updatedPerson","catch","error","createdPerson","console","log","idOfDeletedPerson","Number","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b9905fc.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filterValue, changeHandler}) => {\r\n    return (\r\n        <div>\r\n        <p>filter shown with <input value={filterValue} onChange={changeHandler} /> </p>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ name, nameChangeHandler, number, numberChangeHandler, submitHandler}) => {\r\n    return (\r\n        <form onSubmit={submitHandler}>\r\n        <div>\r\n          name: <input value={name} onChange={nameChangeHandler} />\r\n        </div>\r\n        <div>\r\n          number: <input value={number} onChange={numberChangeHandler} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, nameFilter, deleteButtonHandler}) => {\r\n    return (\r\n        <>\r\n            {persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\r\n                    .map(person => <p key={person.name}>{person.name} {person.number} <button id={person.id} onClick={deleteButtonHandler}>delete</button></p>)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\n\r\nconst Notification = ({ message, color }) => {\r\n\r\n    const notificationStyle = {\r\n        color: color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n      }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n// const baseUrl = 'https://murmuring-inlet-36760.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, addPerson, updatePerson, deletePerson }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport PersonsService from './services/PersonsService'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ nameFilter, setNameFilter ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationMessageColor, setNotificationColor] = useState('green')\n  \n\n  const addName = (event) => {\n    event.preventDefault();\n\n    let newOrUpdatedPerson = {\n      name: newName,\n      number: newNumber\n    };\n\n    if(persons.map(p => p.name).includes(newName))\n    {\n      let alreadyAddedPerson = persons.find(p => p.name === newName)\n\n      if(window.confirm(`${alreadyAddedPerson.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        PersonsService.updatePerson(alreadyAddedPerson.id, newOrUpdatedPerson)\n                      .then(updatedPerson => {\n                        notifyUser(`Successfully updated ${updatedPerson.name}`, 'green')\n                        setPersons(persons.map(p => p.id !== updatedPerson.id ? p : updatedPerson))\n                      })\n                      .catch(error => notifyUser(`unsuccessful update: ${error}`, 'red'))\n      }\n      else {\n        return;\n      }\n    }\n    else {\n      PersonsService.addPerson(newOrUpdatedPerson)\n                    .then(createdPerson => {\n                      console.log(createdPerson)\n                      notifyUser(`Person successfully added`, 'green')\n                      setPersons(persons.map(p => p.id !== createdPerson.id ? p : createdPerson))\n                    })\n                    .catch(error => notifyUser(`unsuccessful add: ${error}`, 'red'))\n    }\n\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const notifyUser = (message, color) => {\n    setNotificationColor(color)\n    setNotificationMessage(message)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 5000)\n  }\n\n  const handleDelete = event => {\n      let idOfDeletedPerson = Number(event.target.id);\n\n      if(window.confirm(`Delete ${persons.find(p => p.id === idOfDeletedPerson).name}?`)) {\n        PersonsService.deletePerson(idOfDeletedPerson)\n                      .then(() => {\n                        notifyUser('Successful remove', 'green')\n                        setPersons(persons.filter(p => p.id !== idOfDeletedPerson))\n                      })\n                      .catch(error => notifyUser(`unsuccessful delete: ${error}`, 'red'))\n      }\n  }\n\n  useEffect(() => {\n    PersonsService.getAll()\n                .then(ps => setPersons(ps))\n  }, [newName, nameFilter])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} color={notificationMessageColor} />\n      <div>\n        <Filter filterValue={nameFilter} changeHandler={event => setNameFilter(event.target.value)} />\n      </div>\n\n      <h2>Add a new</h2>\n        <PersonForm name={newName} nameChangeHandler={event => setNewName(event.target.value)}\n                    number={newNumber} numberChangeHandler={event => setNewNumber(event.target.value)}\n                    submitHandler={addName}\n                    />\n      <h2>Numbers</h2>\n          <Persons persons={persons} nameFilter={nameFilter} deleteButtonHandler={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}